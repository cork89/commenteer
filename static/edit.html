{{define "head"}}
<title>Commenteer - {{.RedditRequest}} - Submit</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
    integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="/static/edit.js"></script>
{{end}}

{{define "nav"}}
{{template "userLoginInfo" .}}
{{end}}

{{define "body"}}
<div class="flex align-items justify-center">
    <div class="mt-20 max-w-full">
        <!-- <div class="container"> -->
        <div id="icc" class="image-comment-container border-2 border-solid border-slate-500">
            <div class="flex justify-center">
                <img src="{{.ProxyUrl}}" alt="{{.ImageUrl}}" loading="lazy" />
            </div>
            <div id="cc" class="comment-container mt-4">
                {{range $i, $comment := .RedditComments}}
                {{ if gt $i 0 }}
                <ul class="d{{$i}} w-11/12 ml-auto">
                    {{else}}
                    <ul class="d{{$i}} w-11/12 ml-2">
                        {{end}}
                        <li class="comment">{{$comment.Comment}}</li>
                        <li class="author">u/{{$comment.Author}}</li>
                        {{end}}
                    </ul>
            </div>
        </div>
        <!-- </div> -->
        <div
            class="flex bg-white border-2 border-solid border-slate-500 rounded-md shadow-sm mb-6 mt-1 pl-2 py-2 max-w-screen-lg">
            <div class="overlay-comments flex-1">
                <button id="oc1" class="hover:bg-slate-300 active:bg-slate-500 target rounded-full" active>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-8" onclick="overlayComments(1);">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                </button>
                <button id="oc2" class="hover:bg-slate-300 active:bg-slate-500 rounded-full">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-8" onclick="overlayComments(2);">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="m9 12.75 3 3m0 0 3-3m-3 3v-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                </button>
                <button id="oc3" class="hover:bg-slate-300 active:bg-slate-500 rounded-full">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-8" onclick="overlayComments(3);">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="m15 11.25-3-3m0 0-3 3m3-3v7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                </button>
            </div>
            <button id="publish"
                class="flex-shrink-0 ml-auto mr-2 bg-slate-500 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded"
                onclick="takeScreenshot('{{.CommenteerUrl}}');">Publish</button>
        </div>
    </div>
</div>
{{end}}